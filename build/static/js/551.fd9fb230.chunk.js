"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[551],{17551:(s,e,t)=>{t.r(e),t.d(e,{PasswordRest:()=>g,default:()=>P});var a=t(72791),r=t(74387),i=t(68962),o=t.n(i),d=(t(50649),t(17451)),n=t(89139),l=t(43360),h=(t(47885),t(65410)),c=t.n(h),p=t(21830),u=t.n(p),w=t(55294),m=t(80184);var f=t(85797);t(72426),t(4865);class g extends a.Component{constructor(s){super(s),this._isMounted=!1,this.OnClickEvent=s=>{1==this.FormLayout.validate().isValid?w.Z.get("/api/password-check",{params:{CurrentPassword:this.state.jPasswordReset.CurrentPassword,UserID:void 0===this.props.data.user?this.props.data.data.user.Id:this.props.data.user.Id}}).then((s=>{s.data.length>0?this.state.jPasswordReset.ConfirmPassword==this.state.jPasswordReset.NewPassword?u().fire({type:"info",showCancelButton:!0,text:"Do you want to reset your password ?",confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,allowEscapeKey:!1}).then((s=>{s.value?w.Z.post("/api/password-check",{NewPassword:this.state.jPasswordReset.NewPassword,UserID:void 0===this.props.data.user?this.props.data.data.user.Id:this.props.data.user.Id}).then((s=>{c()({message:"Password Reset Successfully Completed",type:"success",displayTime:3e3,position:{at:"top right",offset:"50"}}),this.OnClearClickEvent()})).catch((s=>{console.log(s)})):"cancel"==s.dismiss||s.dismiss})):c()({message:"Password Not is Match",type:"error",displayTime:3e3,position:{at:"top right",offset:"50"}}):c()({message:"Current Password Not is Match",type:"error",displayTime:3e3,position:{at:"top right",offset:"50"}})})).catch((s=>{console.log(s)})):c()({message:"Fields marked with * are required",type:"error",displayTime:3e3,position:{at:"top right",offset:"50"}})},this.OnClearForm=()=>{this.setState({jPasswordReset:{}}),this.componentDidMount()},this.onLoadPanelHiding=()=>{this.setState({LoadPanelVisible:!1}),c()({message:"Successfully Saved",type:"success",displayTime:3e3,position:{at:"top right",offset:"50"}})},this.OnClearClickEvent=()=>{this.setState({jPasswordReset:{}})},this.OnNotification=(s,e)=>{c()({message:s,type:e,displayTime:3e3,position:{at:"top right",offset:"50"}})},this.state={jPasswordReset:{}},this.FormRef=a.createRef()}clearRelatedGrid(){this.setState({jPasswordReset:{}})}get FormLayout(){return this.FormRef.current.instance}render(){return(0,m.jsxs)(r.Z,{children:[(0,m.jsx)(d.Z,{title:"Password Reset",children:(0,m.jsxs)(o(),{ref:this.FormRef,formData:this.state.jPasswordReset,children:[(0,m.jsx)(i.Item,{dataField:"CurrentPassword",editorOptions:{maxLength:50,mode:"password"},children:(0,m.jsx)(i.RequiredRule,{})}),(0,m.jsx)(i.Item,{dataField:"NewPassword",editorOptions:{maxLength:50,mode:"password"},children:(0,m.jsx)(i.RequiredRule,{})}),(0,m.jsx)(i.Item,{dataField:"ConfirmPassword",editorOptions:{maxLength:50,mode:"password"},children:(0,m.jsx)(i.RequiredRule,{})})]})}),(0,m.jsxs)(n.Z,{bg:"light",variant:"light",children:[(0,m.jsx)(l.Z,{variant:"secondary",icon:"feather icon-layers",onClick:this.OnClickEvent,children:"Update"}),(0,m.jsx)(l.Z,{variant:"secondary",icon:"feather icon-layers",onClick:this.OnClearForm,children:"Clear"})]})]})}}const P=(0,f.$j)((s=>({data:s.loggedReducer})))(g)}}]);
//# sourceMappingURL=551.fd9fb230.chunk.js.map